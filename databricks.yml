# Databricks Apps Configuration
# Databricks CLI MCP Server

display_name: "Databricks CLI MCP Server"
description: "Stateful MCP server for agent-driven Databricks automation via comprehensive CLI capabilities"

# Compute configuration
compute:
  size: MEDIUM  # SMALL (1 CPU, 4GB) | MEDIUM (2 CPU, 8GB) | LARGE (4 CPU, 16GB)
  auto_shutdown_minutes: 30  # Auto-shutdown after 30 minutes of inactivity

# Application entry point
# Run the MCP server on port 8080 in HTTP mode
command:
  - "python"
  - "server.py"
  - "--port=8080"
  - "--host=0.0.0.0"

# Environment variables
env:
  - name: PYTHONPATH
    value: "/databricks/driver"
  - name: ENVIRONMENT
    value: "production"
  - name: LOG_LEVEL
    value: "INFO"

# Note: Authentication is handled per-request via headers
# Clients must provide x-databricks-host and x-databricks-token headers
# No secrets needed in the app configuration itself

